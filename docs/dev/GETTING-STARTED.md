# Getting Started with Delight Development

Welcome to the Delight repository! This guide will help you understand the repository structure, branch organization, and current development focus.

---

## Repository Overview

Delight is an emotionally intelligent AI companion that transforms overwhelming goals into achievable daily missions. The project uses a monorepo structure with separate packages for backend (FastAPI), frontend (Next.js), and shared types.

**Key Technologies:**

- **Backend:** FastAPI (Python 3.11+), PostgreSQL with pgvector, LangGraph/LangChain
- **Frontend:** Next.js 15, React 19, TypeScript, Tailwind CSS
- **AI:** OpenAI/Anthropic LLMs, multi-agent orchestration, 3-tier memory system

For complete project details, see the [main README](../README.md) and [Architecture Guide](../ARCHITECTURE.md).

---

## Branch Structure & Development Workflow

Understanding our branch strategy is crucial for contributing effectively. Here's how branches are organized:

### Main Branch (`main`)

**Status:** Stable and up-to-date with the live website

The `main` branch represents the current production-ready state of Delight. It's kept in sync with the deployed website and should always be in a working state. All feature branches should be created from `main` and merged back after review.

**When to use:**

- Starting new feature work
- Creating pull requests for review
- Understanding the current stable state of the codebase

### Feature Branches (`1.1`, `1.2`, etc.)

**Type:** Story-driven feature branches

These branches correspond to specific stories from our epic breakdown. The numbering follows the pattern `{epic}.{story}` (e.g., `1.1` = Epic 1, Story 1; `2.3` = Epic 2, Story 3).

**Characteristics:**

- Each branch implements a specific story from our [Epic Breakdown](../epics.md)
- Branches are defined by the story requirements and acceptance criteria
- Work is organized around user stories following BDD (Behavior-Driven Development) format

**Example:**

- `1.1` might implement "Initialize Monorepo Structure and Core Dependencies"
- `2.3` might implement "Build Eliza Agent with LangGraph"

**When to use:**

- Working on a specific story from the epic breakdown
- Implementing features that align with our planned development roadmap

### Claude Branches (`claude/*`)

**Type:** Automatic branches from Claude Code Web

These branches are automatically generated and contain features from Claude Code Web. They represent different feature sets derived from Claude's codebase and are created automatically by the Claude Code integration.

**Characteristics:**

- Automatically generated (not manually created)
- Contain features from Claude Code Web
- May include experimental or exploratory code
- Should be reviewed before merging to main

**When to use:**

- Exploring features generated by Claude Code
- Reviewing automatic code suggestions
- Understanding what Claude Code has generated

**Note:** These branches may require review and cleanup before integration into the main codebase.

### Experimental Agent Website Branch (`experimental-agent-website`)

**Status:** Most up-to-date but unreviewed exploration branch

This branch contains the latest experimental work on the agent system and website. It's the most current branch in terms of features, but the code hasn't undergone thorough review.

**Characteristics:**

- Contains cutting-edge features and experiments
- Most up-to-date codebase for agent functionality
- **Code is unreviewed** - use with caution
- Focuses on exploring bugs and edge cases
- Great for experimentation and learning

**When to use:**

- Experimenting with new agent features
- Testing experimental functionality
- Contributing improvements to make the experimental branch more robust
- Understanding the latest agent system architecture

**Important Notes:**

- Code in this branch may be unstable
- Not recommended for production use
- Contributions to make this branch more robust are highly encouraged
- Consider creating a pull request from `main` if you want to improve the experimental agent system

---

## Current Development Focus

### Epics 3 & 4: Goal Management & Narrative Engine

We're currently starting work on **Epic 3: Goal & Mission Management** and **Epic 4: Narrative Engine**. These epics focus on:

**Epic 3: Goal & Mission Management**

- Goal creation and decomposition
- Collaborative goal planning with Eliza
- Priority triads and micro-missions
- Mission execution and tracking

**Epic 4: Narrative Engine**

- Living narrative system that adapts to user progress
- Story generation based on tasks and achievements
- Pre-planned hidden quests
- Character-initiated interactions

### Using BMAD Method

We're using the **BMAD (Breakthrough Method for Agentic Development)** to guide development. BMAD is a comprehensive AI-first development framework that emphasizes:

- **Agentic planning** - Working with specialized AI agents (PM, Architect, DEV, etc.)
- **Context-aware workflows** - Structured processes that adapt to project needs
- **Narrative generation** - Creating stories based on tasks and user progress

**BMAD Resources:**

- BMAD documentation is available in the `bmad/` directory
- See [BMAD Developer Guide](./BMAD-DEVELOPER-GUIDE.md) for detailed workflow instructions
- Reference the [BMAD Index](../../.cursor/rules/bmad/index.mdc) for available agents and workflows

**Key BMAD Workflows for Epics 3 & 4:**

- `workflow-init` - Initialize a new workflow for epic planning
- `create-story` - Create user stories for narrative features
- `dev-story` - Develop stories with AI agent assistance
- `story-context` - Get context for working on specific stories

The narrative generation system will create personalized stories based on:

- Task completions
- Goal achievements
- User progress patterns
- Mission history

---

## Contributing Opportunities

### Memory & Agent System Improvements

We're always looking to improve our memory and agent systems. If you're interested in contributing:

**Creating a Pull Request:**

1. Start from the `main` branch
2. Create a feature branch (e.g., `feature/memory-improvements`)
3. Work on enhancements to the memory or agent system
4. Submit a pull request for review

**Reference: arkOS from MIT SIPB**

For inspiration and best practices, we recommend referencing **arkOS** from MIT's Student Information Processing Board (SIPB). arkOS provides an excellent starting point for:

- Advanced memory architectures
- Agent system design patterns
- Multi-agent orchestration
- Context management strategies

**Key Areas for Improvement:**

- 3-tier memory system (personal/project/task) optimization
- LangGraph agent state management
- Memory retrieval and relevance scoring
- Agent-to-agent communication patterns
- Context window management

### Experimental Agent Website

The `experimental-agent-website` branch is a great place to experiment and contribute:

**What You Can Do:**

- Play around with experimental agent features
- Identify and fix bugs
- Make the experimental branch more robust
- Test new agent capabilities
- Improve error handling and edge cases

**Important Reminders:**

- Code in this branch hasn't been reviewed
- Features may be unstable or incomplete
- Your contributions can help stabilize the experimental work
- Consider documenting your findings and improvements

**How to Contribute:**

1. Check out the `experimental-agent-website` branch
2. Explore the code and test functionality
3. Identify areas for improvement
4. Create a pull request with your enhancements
5. Document any bugs or issues you discover

---

## Development Setup

### Prerequisites

Before you start developing, ensure you have:

- **Node.js 20+** with pnpm (`npm install -g pnpm`)
- **Python 3.11+** with Poetry (`pip install poetry`)
- **Supabase account** (managed PostgreSQL with pgvector)
- **Clerk account** (authentication)
- **OpenAI API key** (for AI capabilities)
- **Docker Desktop** (optional, for local infrastructure)

### Quick Start

1. **Clone the repository:**

   ```bash
   git clone <repository-url>
   cd delight
   ```

2. **Install dependencies:**

   ```bash
   make install
   # Or manually:
   pnpm install
   cd packages/backend && poetry install
   ```

3. **Set up environment variables:**

   - Copy `.env.example` files in both `packages/frontend/` and `packages/backend/`
   - Configure your API keys and service URLs

4. **Start development servers:**

   ```bash
   make dev
   # Or separately:
   # Terminal 1: make dev:frontend
   # Terminal 2: make dev:backend
   ```

5. **Access the application:**
   - Frontend: http://localhost:3000
   - Backend API: http://localhost:8000
   - API Docs: http://localhost:8000/docs

For detailed setup instructions, see [SETUP.md](./SETUP.md).

---

## Development Workflow

### Starting New Work

1. **Check current branch:**

   ```bash
   git checkout main
   git pull origin main
   ```

2. **Create a feature branch:**

   ```bash
   git checkout -b feature/your-feature-name
   # Or for story-based work:
   git checkout -b 3.1  # Epic 3, Story 1
   ```

3. **Make your changes:**

   - Follow coding style guidelines (see [CONTRIBUTING.md](./CONTRIBUTING.md))
   - Write tests for new features
   - Update documentation as needed

4. **Test your changes:**

   ```bash
   make test      # Run all tests
   make lint      # Check code style
   ```

5. **Commit and push:**

   ```bash
   git add .
   git commit -m "feat: your feature description"
   git push origin feature/your-feature-name
   ```

6. **Create a pull request:**
   - Push your branch to GitHub
   - Create a PR with a clear description
   - Link to relevant stories or issues
   - Request review from the team

### Working with BMAD

When working on epics or stories:

1. **Initialize workflow:**

   ```bash
   # Use BMAD workflow-init to start planning
   # Reference: @bmad/bmm/workflows/workflow-init
   ```

2. **Get story context:**

   ```bash
   # Use story-context workflow for specific stories
   # Reference: @bmad/bmm/workflows/story-context
   ```

3. **Develop with AI assistance:**
   ```bash
   # Use dev-story workflow for implementation
   # Reference: @bmad/bmm/workflows/dev-story
   ```

See [BMAD Developer Guide](./BMAD-DEVELOPER-GUIDE.md) for complete BMAD workflow instructions.

---

## Project Structure

```
delight/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ backend/          # FastAPI backend service
â”‚   â”œâ”€â”€ frontend/         # Next.js frontend application
â”‚   â””â”€â”€ shared/           # Shared TypeScript types
â”œâ”€â”€ docs/                 # Project documentation
â”‚   â”œâ”€â”€ dev/             # Developer guides (this file)
â”‚   â”œâ”€â”€ architecture/    # Architecture documentation
â”‚   â”œâ”€â”€ epics/           # Epic and story breakdowns
â”‚   â””â”€â”€ stories/         # Individual story details
â”œâ”€â”€ bmad/                # BMAD method assets and workflows
â””â”€â”€ .cursor/             # Cursor IDE configuration
```

For detailed project structure, see [Project Structure Documentation](../architecture/project-structure.md).

---

## Key Documentation

- **[README.md](../README.md)** - Project overview and introduction
- **[ARCHITECTURE.md](../ARCHITECTURE.md)** - Technical architecture and design decisions
- **[Epic Breakdown](../epics.md)** - Complete epic and story breakdown
- **[SETUP.md](./SETUP.md)** - Detailed setup instructions
- **[BMAD Developer Guide](./BMAD-DEVELOPER-GUIDE.md)** - BMAD workflow guide
- **[CONTRIBUTING.md](./CONTRIBUTING.md)** - Contribution guidelines
- **[Quick Reference](./QUICK-REFERENCE.md)** - Command cheat sheet

---

## Getting Help

- **Documentation:** Check the [Documentation Index](../INDEX.md)
- **Issues:** Open a GitHub issue for bugs or feature requests
- **Questions:** Ask in discussions or reach out to the team

---

## Next Steps

1. **Set up your development environment** (see [SETUP.md](./SETUP.md))
2. **Review the Epic Breakdown** to understand current priorities
3. **Explore the codebase** to get familiar with the structure
4. **Choose a contribution area:**
   - Work on Epic 3 or 4 stories
   - Improve the experimental agent website
   - Enhance memory/agent systems (reference arkOS)
   - Fix bugs or improve documentation

Welcome to Delight development! We're excited to have you contribute. ðŸŽ®âœ¨
